@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
NOTE: CSS variables now defined in index.css @layer base
Custom token overrides removed to prevent conflicts
*/

/* Base styles without variable overrides */
html, body, #root { height: 100%; }

/* Text styles using main theme variables */
h1, h2, h3, h4 { 
  color: hsl(var(--foreground)); 
  letter-spacing: -0.01em; 
}
p, label, small, span, th, td { 
  color: hsl(var(--foreground)); 
}
.text-muted { 
  color: hsl(var(--muted-foreground)); 
}

/* Link and focus styles using main theme variables */
a { 
  color: hsl(var(--accent)); 
  text-underline-offset: 2px; 
}
a:hover { text-decoration: underline; }
:focus-visible { 
  outline: 2px solid hsl(var(--ring)); 
  outline-offset: 2px; 
}

/* Containers using main theme variables */
.card { 
  background-color: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  @apply rounded-2xl shadow-sm; 
}
.card-body { @apply p-5; }
.card-title { 
  color: hsl(var(--foreground)); 
  @apply text-base font-semibold; 
}
.dropzone { 
  background-color: hsl(var(--card));
  border: 2px dashed hsl(var(--border));
  @apply rounded-xl p-6 shadow-sm transition; 
}
.dropzone:hover { box-shadow: 0 2px 10px rgba(0,0,0,.07); }

/* Badge stato using main theme variables */
.badge-ok { 
  background-color: hsl(var(--success));
  color: hsl(var(--success-foreground));
  border: 1px solid hsl(var(--success) / 0.2);
  @apply inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs; 
}
.badge-err { 
  background-color: hsl(var(--destructive));
  color: hsl(var(--destructive-foreground));
  border: 1px solid hsl(var(--destructive) / 0.2);
  @apply inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs; 
}

/* Bottoni using main theme variables */
.btn { 
  @apply inline-flex items-center justify-center px-4 py-2 rounded-xl font-medium transition focus:outline-none focus:ring-2 focus:ring-offset-2; 
}
.btn-primary { 
  background-color: hsl(var(--primary)); 
  color: hsl(var(--primary-foreground)); 
  border: 1px solid hsl(var(--primary)); 
}
.btn-primary:hover { filter: brightness(0.9); }
.btn-secondary { 
  background-color: hsl(var(--secondary)); 
  color: hsl(var(--secondary-foreground)); 
  border: 1px solid hsl(var(--border)); 
}
.btn-secondary:hover { filter: brightness(0.95); }
.btn-ghost { 
  background-color: hsl(var(--card)); 
  color: hsl(var(--foreground)); 
  border: 1px solid hsl(var(--border)); 
}

/* Progress bar using main theme variables */
.progress { 
  background-color: hsl(var(--muted));
  border: 1px solid hsl(var(--border));
  @apply w-full h-3 rounded-full; 
}
.progress > span { 
  background-color: hsl(var(--primary));
  border-right: 1px solid hsl(var(--border));
  @apply block h-full rounded-full;
}

/* Tables using main theme variables */
table { width: 100%; border-collapse: separate; border-spacing: 0; }
thead th { 
  background-color: hsl(var(--muted)); 
  color: hsl(var(--foreground)); 
  border-bottom: 2px solid hsl(var(--border)); 
  text-align: left; 
  padding: .6rem .75rem; 
}
tbody td { 
  color: hsl(var(--foreground)); 
  padding: .55rem .75rem; 
  border-bottom: 1px solid hsl(var(--border)); 
}
.table-zebra tbody tr:nth-child(odd) { 
  background-color: hsl(var(--muted)); 
}

/* Borders and icons using main theme variables */
.border-strong { border: 1px solid hsl(var(--border)); }
.icon-dark { color: hsl(var(--foreground)); }

/* Disabled states */
.is-disabled { opacity: .7; filter: none; }